import networkx as nx
import matplotlib.pyplot as plt

def main():
    # 1. Створення графа
    # Моделюємо транспортну мережу (центр міста)
    G = nx.Graph()

    # Список ребер: (станція А, станція Б, вага - час у хвилинах)
    # Вага тут додається для повноти моделі, хоча в завданні 1 вона не обов'язкова.
    edges = [
        ("Хрещатик", "Майдан Незалежності", 2),
        ("Хрещатик", "Театральна", 2),
        ("Хрещатик", "Арсенальна", 3),
        ("Театральна", "Золоті Ворота", 1),
        ("Театральна", "Університет", 2),
        ("Золоті Ворота", "Палац Спорту", 3),
        ("Золоті Ворота", "Лук'янівська", 4),
        ("Майдан Незалежності", "Поштова Площа", 2),
        ("Майдан Незалежності", "Площа Українських Героїв", 2),
        ("Площа Українських Героїв", "Палац Спорту", 1),
        ("Площа Українських Героїв", "Олімпійська", 2),
        ("Палац Спорту", "Кловська", 3),
        ("Кловська", "Печерська", 2),
        ("Печерська", "Дружби Народів", 3)
    ]

    G.add_weighted_edges_from(edges)

    # 2. Візуалізація
    plt.figure(figsize=(10, 8))
    # spring_layout намагається розмістити вузли естетично
    pos = nx.spring_layout(G, seed=42) 

    nx.draw(G, pos, 
            with_labels=True, 
            node_size=2000, 
            node_color="lightblue", 
            font_size=10, 
            font_weight="bold", 
            edge_color="gray")
    
    # Додаємо підписи ваг (часу) на ребрах
    labels = nx.get_edge_attributes(G, 'weight')
    nx.draw_networkx_edge_labels(G, pos, edge_labels=labels)

    plt.title("Транспортна мережа міста")
    plt.show()

    # 3. Аналіз характеристик
    print("--- Характеристики графа ---")
    print(f"Кількість вершин (станцій): {G.number_of_nodes()}")
    print(f"Кількість ребер (з'єднань): {G.number_of_edges()}")
    
    print("\nСтупінь вершин (кількість сусідів):")
    for node, degree in G.degree():
        print(f"{node}: {degree}")

if __name__ == "__main__":
    main()
